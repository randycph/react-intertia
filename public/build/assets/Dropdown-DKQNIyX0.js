import{u as M,c as O,d as ge}from"./ThemeProvider-DULPDAZ2.js";import{r as s,j as x}from"./app-DJ9lNZKt.js";import{q}from"./querySelectorAll-Cwpyv69p.js";import{a as we,u as J}from"./useMergedRefs-uwNiKW6A.js";import{$ as he,u as xe}from"./SSRProvider-DGEn56b5.js";import{u as be}from"./usePrevious-CdVnRV1P.js";import{u as ve}from"./useForceUpdate-DqUM71TE.js";import{u as F}from"./useEventCallback-CB2MXAiO.js";import{u as ye,a as Ce,m as Ee,b as De}from"./mergeOptionsWithPopperConfig-BuuC2CUu.js";import{S as B,N as $e,m as G}from"./NavContext-CPRlH_-r.js";import{B as ke}from"./Button-C6fGWg8U.js";import{d as Q}from"./DataKey-DjdvojM5.js";import{u as Pe}from"./useWindow-fHbKz-ul.js";import{u as Ne}from"./hook-Cf71b7BK.js";import{u as je}from"./useEventCallback-BoF_BJ3-.js";import{A as Re}from"./Anchor-Cbr8ECqp.js";import{u as Ie}from"./useIsomorphicEffect-gbxXprRi.js";import{c as X}from"./InputGroupContext-Dl5KJOKt.js";import{c as Te}from"./NavbarContext-Dj0od0Bw.js";import{B as Se}from"./Button-CuH19iuM.js";function Me(t,e,o,n=!1){const r=F(o);s.useEffect(()=>{const a=typeof t=="function"?t():t;return a.addEventListener(e,r,n),()=>a.removeEventListener(e,r,n)},[t])}const _=s.createContext(null),Oe=["children","usePopper"];function Ae(t,e){if(t==null)return{};var o={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;o[n]=t[n]}return o}const Fe=()=>{};function Y(t={}){const e=s.useContext(_),[o,n]=ye(),r=s.useRef(!1),{flip:a,offset:u,rootCloseEvent:i,fixed:d=!1,placement:l,popperConfig:m={},enableEventListeners:c=!0,usePopper:b=!!e}=t,g=(e==null?void 0:e.show)==null?!!t.show:e.show;g&&!r.current&&(r.current=!0);const D=T=>{e==null||e.toggle(!1,T)},{placement:$,setMenu:C,menuElement:R,toggleElement:k}=e||{},w=Ce(k,R,Ee({placement:l||$||"bottom-start",enabled:b,enableEvents:c??g,offset:u,flip:a,fixed:d,arrowElement:o,popperConfig:m})),I=Object.assign({ref:C||Fe,"aria-labelledby":k==null?void 0:k.id},w.attributes.popper,{style:w.styles.popper}),v={show:g,placement:$,hasShown:r.current,toggle:e==null?void 0:e.toggle,popper:b?w:null,arrowProps:b?Object.assign({ref:n},w.attributes.arrow,{style:w.styles.arrow}):{}};return De(R,D,{clickTrigger:i,disabled:!g}),[I,v]}function Z(t){let{children:e,usePopper:o=!0}=t,n=Ae(t,Oe);const[r,a]=Y(Object.assign({},n,{usePopper:o}));return x.jsx(x.Fragment,{children:e(r,a)})}Z.displayName="DropdownMenu";const ee=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},V=()=>{};function te(){const t=he(),{show:e=!1,toggle:o=V,setToggle:n,menuElement:r}=s.useContext(_)||{},a=s.useCallback(i=>{o(!e,i)},[e,o]),u={id:t,ref:n||V,onClick:a,"aria-expanded":!!e};return r&&ee(r)&&(u["aria-haspopup"]=!0),[u,{show:e,toggle:o}]}function oe({children:t}){const[e,o]=te();return x.jsx(x.Fragment,{children:t(e,o)})}oe.displayName="DropdownToggle";const We=["eventKey","disabled","onClick","active","as"];function _e(t,e){if(t==null)return{};var o={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;o[n]=t[n]}return o}function ne({key:t,href:e,active:o,disabled:n,onClick:r}){const a=s.useContext(B),u=s.useContext($e),{activeKey:i}=u||{},d=G(t,e),l=o==null&&t!=null?G(i)===d:o;return[{onClick:F(c=>{n||(r==null||r(c),a&&!c.isPropagationStopped()&&a(d,c))}),"aria-disabled":n||void 0,"aria-selected":l,[Q("dropdown-item")]:""},{isActive:l}]}const re=s.forwardRef((t,e)=>{let{eventKey:o,disabled:n,onClick:r,active:a,as:u=ke}=t,i=_e(t,We);const[d]=ne({key:o,href:i.href,disabled:n,onClick:r,active:a});return x.jsx(u,Object.assign({},i,{ref:e},d))});re.displayName="DropdownItem";function z(){const t=ve(),e=s.useRef(null),o=s.useCallback(n=>{e.current=n,t()},[t]);return[e,o]}function W({defaultShow:t,show:e,onSelect:o,onToggle:n,itemSelector:r=`* [${Q("dropdown-item")}]`,focusFirstItemOnShow:a,placement:u="bottom-start",children:i}){const d=Pe(),[l,m]=xe(e,t,n),[c,b]=z(),g=c.current,[D,$]=z(),C=D.current,R=be(l),k=s.useRef(null),w=s.useRef(!1),I=s.useContext(B),v=s.useCallback((p,f,y=f==null?void 0:f.type)=>{m(p,{originalEvent:f,source:y})},[m]),T=F((p,f)=>{o==null||o(p,f),v(!1,f,"select"),f.isPropagationStopped()||I==null||I(p,f)}),E=s.useMemo(()=>({toggle:v,placement:u,show:l,menuElement:g,toggleElement:C,setMenu:b,setToggle:$}),[v,u,l,g,C,b,$]);g&&R&&!l&&(w.current=g.contains(g.ownerDocument.activeElement));const h=F(()=>{C&&C.focus&&C.focus()}),N=F(()=>{const p=k.current;let f=a;if(f==null&&(f=c.current&&ee(c.current)?"keyboard":!1),f===!1||f==="keyboard"&&!/^key.+$/.test(p))return;const y=q(c.current,r)[0];y&&y.focus&&y.focus()});s.useEffect(()=>{l?N():w.current&&(w.current=!1,h())},[l,w,h,N]),s.useEffect(()=>{k.current=null});const A=(p,f)=>{if(!c.current)return null;const y=q(c.current,r);let j=y.indexOf(p)+f;return j=Math.max(0,Math.min(j,y.length)),y[j]};return Me(s.useCallback(()=>d.document,[d]),"keydown",p=>{var f,y;const{key:j}=p,S=p.target,L=(f=c.current)==null?void 0:f.contains(S),me=(y=D.current)==null?void 0:y.contains(S);if(/input|textarea/i.test(S.tagName)&&(j===" "||j!=="Escape"&&L||j==="Escape"&&S.type==="search")||!L&&!me||j==="Tab"&&(!c.current||!l))return;k.current=p.type;const U={originalEvent:p,source:p.type};switch(j){case"ArrowUp":{const P=A(S,-1);P&&P.focus&&P.focus(),p.preventDefault();return}case"ArrowDown":if(p.preventDefault(),!l)m(!0,U);else{const P=A(S,1);P&&P.focus&&P.focus()}return;case"Tab":we(S.ownerDocument,"keyup",P=>{var H;(P.key==="Tab"&&!P.target||!((H=c.current)!=null&&H.contains(P.target)))&&m(!1,U)},{once:!0});break;case"Escape":j==="Escape"&&(p.preventDefault(),p.stopPropagation()),m(!1,U);break}}),x.jsx(B.Provider,{value:T,children:x.jsx(_.Provider,{value:E,children:i})})}W.displayName="Dropdown";W.Menu=Z;W.Toggle=oe;W.Item=re;const K=s.createContext({});K.displayName="DropdownContext";const se=s.forwardRef(({className:t,bsPrefix:e,as:o="hr",role:n="separator",...r},a)=>(e=M(e,"dropdown-divider"),x.jsx(o,{ref:a,className:O(t,e),role:n,...r})));se.displayName="DropdownDivider";const ae=s.forwardRef(({className:t,bsPrefix:e,as:o="div",role:n="heading",...r},a)=>(e=M(e,"dropdown-header"),x.jsx(o,{ref:a,className:O(t,e),role:n,...r})));ae.displayName="DropdownHeader";const ce=s.forwardRef(({bsPrefix:t,className:e,eventKey:o,disabled:n=!1,onClick:r,active:a,as:u=Re,...i},d)=>{const l=M(t,"dropdown-item"),[m,c]=ne({key:o,href:i.href,disabled:n,onClick:r,active:a});return x.jsx(u,{...i,...m,ref:d,className:O(e,l,c.isActive&&"active",n&&"disabled")})});ce.displayName="DropdownItem";const le=s.forwardRef(({className:t,bsPrefix:e,as:o="span",...n},r)=>(e=M(e,"dropdown-item-text"),x.jsx(o,{ref:r,className:O(t,e),...n})));le.displayName="DropdownItemText";function ue(t,e){return t}function ie(t,e,o){const n=o?"top-end":"top-start",r=o?"top-start":"top-end",a=o?"bottom-end":"bottom-start",u=o?"bottom-start":"bottom-end",i=o?"right-start":"left-start",d=o?"right-end":"left-end",l=o?"left-start":"right-start",m=o?"left-end":"right-end";let c=t?u:a;return e==="up"?c=t?r:n:e==="end"?c=t?m:l:e==="start"?c=t?d:i:e==="down-centered"?c="bottom":e==="up-centered"&&(c="top"),c}const de=s.forwardRef(({bsPrefix:t,className:e,align:o,rootCloseEvent:n,flip:r=!0,show:a,renderOnMount:u,as:i="div",popperConfig:d,variant:l,...m},c)=>{let b=!1;const g=s.useContext(Te),D=M(t,"dropdown-menu"),{align:$,drop:C,isRTL:R}=s.useContext(K);o=o||$;const k=s.useContext(X),w=[];if(o)if(typeof o=="object"){const p=Object.keys(o);if(p.length){const f=p[0],y=o[f];b=y==="start",w.push(`${D}-${f}-${y}`)}}else o==="end"&&(b=!0);const I=ie(b,C,R),[v,{hasShown:T,popper:E,show:h,toggle:N}]=Y({flip:r,rootCloseEvent:n,show:a,usePopper:!g&&w.length===0,offset:[0,2],popperConfig:d,placement:I});if(v.ref=J(ue(c),v.ref),Ie(()=>{h&&(E==null||E.update())},[h]),!T&&!u&&!k)return null;typeof i!="string"&&(v.show=h,v.close=()=>N==null?void 0:N(!1),v.align=o);let A=m.style;return E!=null&&E.placement&&(A={...m.style,...v.style},m["x-placement"]=E.placement),x.jsx(i,{...m,...v,style:A,...(w.length||g)&&{"data-bs-popper":"static"},className:O(e,D,h&&"show",b&&`${D}-end`,l&&`${D}-${l}`,...w)})});de.displayName="DropdownMenu";const pe=s.forwardRef(({bsPrefix:t,split:e,className:o,childBsPrefix:n,as:r=Se,...a},u)=>{const i=M(t,"dropdown-toggle"),d=s.useContext(_);n!==void 0&&(a.bsPrefix=n);const[l]=te();return l.ref=J(l.ref,ue(u)),x.jsx(r,{className:O(o,i,e&&`${i}-split`,(d==null?void 0:d.show)&&"show"),...l,...a})});pe.displayName="DropdownToggle";const fe=s.forwardRef((t,e)=>{const{bsPrefix:o,drop:n="down",show:r,className:a,align:u="start",onSelect:i,onToggle:d,focusFirstItemOnShow:l,as:m="div",navbar:c,autoClose:b=!0,...g}=Ne(t,{show:"onToggle"}),D=s.useContext(X),$=M(o,"dropdown"),C=ge(),R=E=>b===!1?E==="click":b==="inside"?E!=="rootClose":b==="outside"?E!=="select":!0,k=je((E,h)=>{var N;!((N=h.originalEvent)==null||(N=N.target)==null)&&N.classList.contains("dropdown-toggle")&&h.source==="mousedown"||(h.originalEvent.currentTarget===document&&(h.source!=="keydown"||h.originalEvent.key==="Escape")&&(h.source="rootClose"),R(h.source)&&(d==null||d(E,h)))}),I=ie(u==="end",n,C),v=s.useMemo(()=>({align:u,drop:n,isRTL:C}),[u,n,C]),T={down:$,"down-centered":`${$}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return x.jsx(K.Provider,{value:v,children:x.jsx(W,{placement:I,show:r,onSelect:i,onToggle:k,focusFirstItemOnShow:l,itemSelector:`.${$}-item:not(.disabled):not(:disabled)`,children:D?g.children:x.jsx(m,{...g,ref:e,className:O(a,r&&"show",T[n])})})})});fe.displayName="Dropdown";const ct=Object.assign(fe,{Toggle:pe,Menu:de,Item:ce,ItemText:le,Divider:se,Header:ae});export{ct as D,pe as a,de as b,ce as c};
