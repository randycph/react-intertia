import{q as D}from"./querySelectorAll-Cwpyv69p.js";import{r as n,j as v}from"./app-DJ9lNZKt.js";import{u as O}from"./useForceUpdate-DqUM71TE.js";import{u as T}from"./useMergedRefs-CmfvmyYM.js";import{S as b,N as P,m as q}from"./NavContext-CPRlH_-r.js";import{N as k,T as L}from"./NavItem-DsdiWNwB.js";import{d as U,a as _}from"./DataKey-DjdvojM5.js";const B=["as","onSelect","activeKey","role","onKeyDown"];function $(r,d){if(r==null)return{};var l={};for(var o in r)if({}.hasOwnProperty.call(r,o)){if(d.indexOf(o)>=0)continue;l[o]=r[o]}return l}const K=()=>{},R=U("event-key"),E=n.forwardRef((r,d)=>{let{as:l="div",onSelect:o,activeKey:p,role:c,onKeyDown:x}=r,I=$(r,B);const j=O(),f=n.useRef(!1),C=n.useContext(b),s=n.useContext(L);let g,y;s&&(c=c||"tablist",p=s.activeKey,g=s.getControlledId,y=s.getControllerId);const i=n.useRef(null),h=e=>{const t=i.current;if(!t)return null;const u=D(t,`[${R}]:not([aria-disabled=true])`),m=t.querySelector("[aria-selected=true]");if(!m||m!==document.activeElement)return null;const N=u.indexOf(m);if(N===-1)return null;let a=N+e;return a>=u.length&&(a=0),a<0&&(a=u.length-1),u[a]},w=(e,t)=>{e!=null&&(o==null||o(e,t),C==null||C(e,t))},A=e=>{if(x==null||x(e),!s)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=h(-1);break;case"ArrowRight":case"ArrowDown":t=h(1);break;default:return}t&&(e.preventDefault(),w(t.dataset[_("EventKey")]||null,e),f.current=!0,j())};n.useEffect(()=>{if(i.current&&f.current){const e=i.current.querySelector(`[${R}][aria-selected=true]`);e==null||e.focus()}f.current=!1});const S=T(d,i);return v.jsx(b.Provider,{value:w,children:v.jsx(P.Provider,{value:{role:c,activeKey:q(p),getControlledId:g||K,getControllerId:y||K},children:v.jsx(l,Object.assign({},I,{onKeyDown:A,ref:S,role:c}))})})});E.displayName="Nav";const H=Object.assign(E,{Item:k});export{H as B};
