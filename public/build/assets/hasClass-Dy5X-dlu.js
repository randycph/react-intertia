import{c as w,o as k}from"./useMergedRefs-uwNiKW6A.js";import{r as o,j as x}from"./app-DJ9lNZKt.js";import{u as D}from"./useWindow-fHbKz-ul.js";import{u as h}from"./useMergedRefs-CmfvmyYM.js";import{u as M}from"./useEventCallback-CB2MXAiO.js";import{N}from"./NoopTransition-DDGc146H.js";import{g as p}from"./utils-D0e7XQLU.js";const S=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",W=typeof document<"u",b=W||S?o.useLayoutEffect:o.useEffect,R=(n,t)=>w?n==null?(t||k()).body:(typeof n=="function"&&(n=n()),n&&"current"in n&&(n=n.current),n&&("nodeType"in n||n.getBoundingClientRect)?n:null):null;function Q(n,t){const i=D(),[e,s]=o.useState(()=>R(n,i==null?void 0:i.document));if(!e){const r=R(n);r&&s(r)}return o.useEffect(()=>{},[t,e]),o.useEffect(()=>{const r=R(n);r!==e&&s(r)},[n,e]),e}const I=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function P(n,t){if(n==null)return{};var i={};for(var e in n)if({}.hasOwnProperty.call(n,e)){if(t.indexOf(e)>=0)continue;i[e]=n[e]}return i}function F(n){let{onEnter:t,onEntering:i,onEntered:e,onExit:s,onExiting:r,onExited:a,addEndListener:d,children:l}=n,u=P(n,I);const f=o.useRef(null),E=h(f,p(l)),c=m=>g=>{m&&f.current&&m(f.current,g)},v=o.useCallback(c(t),[t]),j=o.useCallback(c(i),[i]),O=o.useCallback(c(e),[e]),C=o.useCallback(c(s),[s]),y=o.useCallback(c(r),[r]),T=o.useCallback(c(a),[a]),L=o.useCallback(c(d),[d]);return Object.assign({},u,{nodeRef:f},t&&{onEnter:v},i&&{onEntering:j},e&&{onEntered:O},s&&{onExit:C},r&&{onExiting:y},a&&{onExited:T},d&&{addEndListener:L},{children:typeof l=="function"?(m,g)=>l(m,Object.assign({},g,{ref:E})):o.cloneElement(l,{ref:E})})}const G=["component"];function _(n,t){if(n==null)return{};var i={};for(var e in n)if({}.hasOwnProperty.call(n,e)){if(t.indexOf(e)>=0)continue;i[e]=n[e]}return i}const $=o.forwardRef((n,t)=>{let{component:i}=n,e=_(n,G);const s=F(e);return x.jsx(i,Object.assign({ref:t},s))});function z({in:n,onTransition:t}){const i=o.useRef(null),e=o.useRef(!0),s=M(t);return b(()=>{if(!i.current)return;let r=!1;return s({in:n,element:i.current,initial:e.current,isStale:()=>r}),()=>{r=!0}},[n,s]),b(()=>(e.current=!1,()=>{e.current=!0}),[]),i}function A({children:n,in:t,onExited:i,onEntered:e,transition:s}){const[r,a]=o.useState(!t);t&&r&&a(!1);const d=z({in:!!t,onTransition:u=>{const f=()=>{u.isStale()||(u.in?e==null||e(u.element,u.initial):(a(!0),i==null||i(u.element)))};Promise.resolve(s(u)).then(f,E=>{throw u.in||a(!0),E})}}),l=h(d,p(n));return r&&!t?null:o.cloneElement(n,{ref:l})}function X(n,t,i){return n?x.jsx($,Object.assign({},i,{component:n})):t?x.jsx(A,Object.assign({},i,{transition:t})):x.jsx(N,Object.assign({},i))}function Y(n,t){return n.classList?!!t&&n.classList.contains(t):(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+t+" ")!==-1}export{Y as h,X as r,Q as u};
