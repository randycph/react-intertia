import{u as j,c as B,e as M}from"./ThemeProvider-DULPDAZ2.js";import{r as w,j as b}from"./app-DJ9lNZKt.js";import{u as U}from"./useEventCallback-BoF_BJ3-.js";import{c as F}from"./NavbarContext-Dj0od0Bw.js";import{f as z,r as $,e as W,d as L,a as G,b as J,c as K}from"./defineProperty-DCeX_3u8.js";import{p as Q}from"./index-BPNO3JeG.js";const X=w.forwardRef(({bsPrefix:s,className:n,children:r,label:e="Toggle navigation",as:o="button",onClick:t,...a},i)=>{s=j(s,"navbar-toggler");const{onToggle:l,expanded:d}=w.useContext(F)||{},v=U(u=>{t&&t(u),l&&l()});return o==="button"&&(a.type="button"),b.jsx(o,{...a,ref:i,onClick:v,"aria-label":e,className:B(n,s,!d&&"collapsed"),children:r||b.jsx("span",{className:`${s}-icon`})})});X.displayName="NavbarToggle";var P={},O={exports:{}};(function(s){function n(r){return r&&r.__esModule?r:{default:r}}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports})(O);var Y=O.exports,x={exports:{}},T={exports:{}},C;function V(){return C||(C=1,function(s){function n(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports}(T)),T.exports}var q;function Z(){return q||(q=1,function(s){var n=z().default,r=V();function e(o,t){if(t&&(n(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return r(o)}s.exports=e,s.exports.__esModule=!0,s.exports.default=s.exports}(x)),x.exports}var E={exports:{}},k;function ee(){return k||(k=1,function(s){function n(r){return s.exports=n=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s.exports.__esModule=!0,s.exports.default=s.exports,n(r)}s.exports=n,s.exports.__esModule=!0,s.exports.default=s.exports}(E)),E.exports}var y={},N;function te(){if(N)return y;N=1,Object.defineProperty(y,"__esModule",{value:!0}),y.default=void 0;var s=function(e){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100,t,a;return function(){var i=+new Date,l=!!t&&i<t+o;l?(clearTimeout(a),a=setTimeout(function(){t=i,e()},o)):(t=i,e())}},n=s;return y.default=n,y}var p=Y;Object.defineProperty(P,"__esModule",{value:!0});var re=P.default=void 0,se=p($()),g=p(W()),oe=p(L()),ae=p(G()),ne=p(Z()),ie=p(ee()),le=p(V()),R=p(J()),ue=p(K()),f=p(Q),S=p(w),I=p(M),pe=p(te());function ce(s,n){return s.length===n.length&&s.every(function(r,e){return r===n[e]})}var fe=function(s){(0,ue.default)(n,s),(0,R.default)(n,null,[{key:"propTypes",get:function(){return{items:f.default.arrayOf(f.default.string).isRequired,currentClassName:f.default.string.isRequired,scrolledPastClassName:f.default.string,style:f.default.object,componentTag:f.default.oneOfType([f.default.string,f.default.elementType]),offset:f.default.number,rootEl:f.default.string,onUpdate:f.default.func}}},{key:"defaultProps",get:function(){return{items:[],currentClassName:"",style:{},componentTag:"ul",offset:0,onUpdate:function(){}}}}]);function n(r){var e;return(0,ae.default)(this,n),e=(0,ne.default)(this,(0,ie.default)(n).call(this,r)),e.state={targetItems:[],inViewState:[],isScrolledPast:[]},e._handleSpy=e._handleSpy.bind((0,le.default)(e)),e}return(0,R.default)(n,[{key:"_initSpyTarget",value:function(e){var o=e.map(function(t){return document.getElementById(t)});return o}},{key:"_fillArray",value:function(e,o){for(var t=[],a=0,i=e.length;a<i;a++)t[a]=o;return t}},{key:"_isScrolled",value:function(){return this._getScrollDimension().scrollTop>0}},{key:"_getScrollDimension",value:function(){var e=document,o=this.props.rootEl,t=o?e.querySelector(o).scrollTop:e.documentElement.scrollTop||e.body.parentNode.scrollTop||e.body.scrollTop,a=o?e.querySelector(o).scrollHeight:e.documentElement.scrollHeight||e.body.parentNode.scrollHeight||e.body.scrollHeight;return{scrollTop:t,scrollHeight:a}}},{key:"_getElemsViewState",value:function(e){for(var o=[],t=[],a=[],i=e||this.state.targetItems,l=!1,d=0,v=i.length;d<v;d++){var u=i[d],h=l?!1:this._isInView(u);h?(l=!0,o.push(u)):t.push(u);var c=d===v-1,m=this._isScrolled(),_=this._isAtBottom()&&this._isInView(u)&&!h&&c&&m;_&&(t.pop(),t.push.apply(t,(0,oe.default)(o)),o=[u],a=this._fillArray(a,!1),h=!0),a.push(h)}return{inView:o,outView:t,viewStatusList:a,scrolledPast:this.props.scrolledPastClassName&&this._getScrolledPast(a)}}},{key:"_isInView",value:function(e){if(!e)return!1;var o=this.props,t=o.rootEl,a=o.offset,i;t&&(i=document.querySelector(t).getBoundingClientRect());var l=e.getBoundingClientRect(),d=t?i.height:window.innerHeight,v=this._getScrollDimension(),u=v.scrollTop,h=u+d,c=t?l.top+u-i.top+a:l.top+u+a,m=c+e.offsetHeight;return c<h&&m>u}},{key:"_isAtBottom",value:function(){var e=this.props.rootEl,o=this._getScrollDimension(),t=o.scrollTop,a=o.scrollHeight,i=e?document.querySelector(e).getBoundingClientRect().height:window.innerHeight,l=t+i>=a;return l}},{key:"_getScrolledPast",value:function(e){if(!e.some(function(a){return a}))return e;var o=!1,t=e.map(function(a){return a&&!o?(o=!0,!1):!o});return t}},{key:"_spy",value:function(e){var o=this,t=this._getElemsViewState(e),a=this.state.inViewState;this.setState({inViewState:t.viewStatusList,isScrolledPast:t.scrolledPast},function(){o._update(a)})}},{key:"_update",value:function(e){ce(this.state.inViewState,e)||this.props.onUpdate(this.state.targetItems[this.state.inViewState.indexOf(!0)])}},{key:"_handleSpy",value:function(){(0,pe.default)(this._spy(),100)}},{key:"_initFromProps",value:function(){var e=this._initSpyTarget(this.props.items);this.setState({targetItems:e}),this._spy(e)}},{key:"offEvent",value:function(){var e=this.props.rootEl?document.querySelector(this.props.rootEl):window;e.removeEventListener("scroll",this._handleSpy)}},{key:"onEvent",value:function(){var e=this.props.rootEl?document.querySelector(this.props.rootEl):window;e.addEventListener("scroll",this._handleSpy)}},{key:"componentDidMount",value:function(){this._initFromProps(),this.onEvent()}},{key:"componentWillUnmount",value:function(){this.offEvent()}},{key:"UNSAFE_componentWillReceiveProps",value:function(){this._initFromProps()}},{key:"render",value:function(){var e=this,o=this.props.componentTag,t=this.props,a=t.children,i=t.className,l=t.scrolledPastClassName,d=t.style,v=0,u=S.default.Children.map(a,function(c,m){var _;if(!c)return null;var D=c.type,A=l&&e.state.isScrolledPast[m],H=(0,I.default)((_={},(0,g.default)(_,"".concat(c.props.className),c.props.className),(0,g.default)(_,"".concat(e.props.currentClassName),e.state.inViewState[m]),(0,g.default)(_,"".concat(e.props.scrolledPastClassName),A),_));return S.default.createElement(D,(0,se.default)({},c.props,{className:H,key:v++}),c.props.children)}),h=(0,I.default)((0,g.default)({},"".concat(i),i));return S.default.createElement(o,{className:h,style:d},u)}}]),n}(S.default.Component);re=P.default=fe;export{X as N,re as _};
